<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper
	namespace="com.sdust.location.dao.interfaces.LocationWifiFingerprintMapper">
	<resultMap id="BaseResultMap"
		type="com.sdust.location.dao.bean.LocationWifiFingerprint">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<constructor>
			<idArg column="id" jdbcType="BIGINT" javaType="java.lang.Long" />
			<arg column="wifi_mac" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="wifi_name" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="lng" jdbcType="DOUBLE" javaType="java.lang.Double" />
			<arg column="lat" jdbcType="DOUBLE" javaType="java.lang.Double" />
			<arg column="reference_x" jdbcType="DOUBLE" javaType="java.lang.Double" />
			<arg column="reference_y" jdbcType="DOUBLE" javaType="java.lang.Double" />
			<arg column="rss_value" jdbcType="DOUBLE" javaType="java.lang.Double" />
			<arg column="group_num" jdbcType="BIGINT" javaType="java.lang.Long" />
			<arg column="area_flag" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="url" jdbcType="VARCHAR" javaType="java.lang.String" />
			<arg column="isminuend" jdbcType="TINYINT" javaType="java.lang.Byte" />
		</constructor>
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		id, wifi_mac, wifi_name, lng, lat, reference_x, reference_y,
		rss_value, group_num,
		area_flag, url, isminuend
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Long">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from location_wifi_fingerprint
		where id = #{id,jdbcType=BIGINT}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from location_wifi_fingerprint
		where id = #{id,jdbcType=BIGINT}
	</delete>
	<insert id="insert" parameterType="com.sdust.location.dao.bean.LocationWifiFingerprint">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into location_wifi_fingerprint (id, wifi_mac, wifi_name,
		lng, lat, reference_x,
		reference_y, rss_value, group_num,
		area_flag, url, isminuend
		)
		values (#{id,jdbcType=BIGINT}, #{wifiMac,jdbcType=VARCHAR},
		#{wifiName,jdbcType=VARCHAR},
		#{lng,jdbcType=DOUBLE}, #{lat,jdbcType=DOUBLE}, #{referenceX,jdbcType=DOUBLE},
		#{referenceY,jdbcType=DOUBLE}, #{rssValue,jdbcType=DOUBLE},
		#{groupNum,jdbcType=BIGINT},
		#{areaFlag,jdbcType=VARCHAR}, #{url,jdbcType=VARCHAR}, #{isminuend,jdbcType=TINYINT}
		)
	</insert>
	<insert id="insertSelective" parameterType="com.sdust.location.dao.bean.LocationWifiFingerprint">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into location_wifi_fingerprint
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="wifiMac != null">
				wifi_mac,
			</if>
			<if test="wifiName != null">
				wifi_name,
			</if>
			<if test="lng != null">
				lng,
			</if>
			<if test="lat != null">
				lat,
			</if>
			<if test="referenceX != null">
				reference_x,
			</if>
			<if test="referenceY != null">
				reference_y,
			</if>
			<if test="rssValue != null">
				rss_value,
			</if>
			<if test="groupNum != null">
				group_num,
			</if>
			<if test="areaFlag != null">
				area_flag,
			</if>
			<if test="url != null">
				url,
			</if>
			<if test="isminuend != null">
				isminuend,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=BIGINT},
			</if>
			<if test="wifiMac != null">
				#{wifiMac,jdbcType=VARCHAR},
			</if>
			<if test="wifiName != null">
				#{wifiName,jdbcType=VARCHAR},
			</if>
			<if test="lng != null">
				#{lng,jdbcType=DOUBLE},
			</if>
			<if test="lat != null">
				#{lat,jdbcType=DOUBLE},
			</if>
			<if test="referenceX != null">
				#{referenceX,jdbcType=DOUBLE},
			</if>
			<if test="referenceY != null">
				#{referenceY,jdbcType=DOUBLE},
			</if>
			<if test="rssValue != null">
				#{rssValue,jdbcType=DOUBLE},
			</if>
			<if test="groupNum != null">
				#{groupNum,jdbcType=BIGINT},
			</if>
			<if test="areaFlag != null">
				#{areaFlag,jdbcType=VARCHAR},
			</if>
			<if test="url != null">
				#{url,jdbcType=VARCHAR},
			</if>
			<if test="isminuend != null">
				#{isminuend,jdbcType=TINYINT},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.sdust.location.dao.bean.LocationWifiFingerprint">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update location_wifi_fingerprint
		<set>
			<if test="wifiMac != null">
				wifi_mac = #{wifiMac,jdbcType=VARCHAR},
			</if>
			<if test="wifiName != null">
				wifi_name = #{wifiName,jdbcType=VARCHAR},
			</if>
			<if test="lng != null">
				lng = #{lng,jdbcType=DOUBLE},
			</if>
			<if test="lat != null">
				lat = #{lat,jdbcType=DOUBLE},
			</if>
			<if test="referenceX != null">
				reference_x = #{referenceX,jdbcType=DOUBLE},
			</if>
			<if test="referenceY != null">
				reference_y = #{referenceY,jdbcType=DOUBLE},
			</if>
			<if test="rssValue != null">
				rss_value = #{rssValue,jdbcType=DOUBLE},
			</if>
			<if test="groupNum != null">
				group_num = #{groupNum,jdbcType=BIGINT},
			</if>
			<if test="areaFlag != null">
				area_flag = #{areaFlag,jdbcType=VARCHAR},
			</if>
			<if test="url != null">
				url = #{url,jdbcType=VARCHAR},
			</if>
			<if test="isminuend != null">
				isminuend = #{isminuend,jdbcType=TINYINT},
			</if>
		</set>
		where id = #{id,jdbcType=BIGINT}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.sdust.location.dao.bean.LocationWifiFingerprint">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update location_wifi_fingerprint
		set wifi_mac = #{wifiMac,jdbcType=VARCHAR},
		wifi_name = #{wifiName,jdbcType=VARCHAR},
		lng = #{lng,jdbcType=DOUBLE},
		lat = #{lat,jdbcType=DOUBLE},
		reference_x = #{referenceX,jdbcType=DOUBLE},
		reference_y = #{referenceY,jdbcType=DOUBLE},
		rss_value = #{rssValue,jdbcType=DOUBLE},
		group_num = #{groupNum,jdbcType=BIGINT},
		area_flag = #{areaFlag,jdbcType=VARCHAR},
		url = #{url,jdbcType=VARCHAR},
		isminuend = #{isminuend,jdbcType=TINYINT}
		where id = #{id,jdbcType=BIGINT}
	</update>

	<select id="selectgroupid" parameterType="java.lang.String"
		resultType="java.lang.Long">
		select group_num from location_wifi_fingerprint
		where
		wifi_mac = #{wifiMac,jdbcType=VARCHAR} and reference_x is not null and
		reference_y is not null and rss_value is not null
	</select>

	<select id="selectInvolvedFingerPrints" parameterType="java.lang.Long"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from location_wifi_fingerprint
		where group_num =
		#{groupNum,jdbcType=BIGINT}
	</select>

	<select id="selectWifiList" parameterType="java.lang.Long"
		resultType="java.lang.String">
		select wifi_mac from location_wifi_fingerprint
		where
		group_num = #{groupNum,jdbcType=BIGINT}
	</select>


	<update id="updateRssI" parameterType="com.sdust.location.dao.bean.LocationWifiFingerprint">
		update location_wifi_fingerprint
		set
		<!--reference_x = #{referenceX,jdbcType=REAL}, reference_y = #{referenceY,jdbcType=REAL}, -->
		wifi_name = 
		#{wifiName,jdbcType=VARCHAR},
		rss_value =
		#{rssValue,jdbcType=REAL}
		where
		group_num =
		#{groupNum,jdbcType=BIGINT}
		and wifi_mac =
		#{wifiMac,jdbcType=VARCHAR}
	</update>
</mapper>